yourLibrary.onReady=function(W,D){function e(){f=!0;c(e);if(b){for(var a=0;a<b.length;a++)b[a]();b=null}}var d,c,x="Event",y=x+"Listener",E=W["add"+y],R=W["remove"+y],A=D["attach"+x],T=["detach"+x],L="load",C="DOMContentLoaded",O="onreadystatechange";E?(d=function(a){E(C,a,!1);E(L,a,!1)},c=function(a){R(C,a,!1);R(L,a,!1)}):A&&(d=function(a){A(O,a);A(L,a)},c=function(a){T(O,a);T(L,a)});var b=null,f=!1;return function(a){if(f)a();else{if(!b){b=[];d(e)}b.push(a)}}}(window,document);